{
  "$schema": "http://json_schema.org/draft_07/schema#",
  "title": "kettler_data_analysis_global_metadata",
  "description": "global_metadata_for_all_data_in_the_repository",
  "version": "1.0.0",
  "last_updated": "2025_12_07",
  "data_collection": {
    "start_date": "2024_10_31",
    "end_date": "2025_12_07",
    "collection_methods": [
      "web_scraping",
      "manual_search",
      "api_queries",
      "evidence_extraction"
    ],
    "sources": [
      {
        "name": "virginia_dpor",
        "url": "https://www.dpor.virginia.gov",
        "type": "regulatory_database",
        "data_types": [
          "firm_licenses",
          "individual_licenses"
        ]
      },
      {
        "name": "multi_state_dpor_databases",
        "states": [
          "va",
          "tx",
          "nc",
          "md",
          "dc",
          "fl",
          "ga",
          "sc",
          "tn",
          "wv",
          "ky"
        ],
        "type": "regulatory_databases",
        "data_types": [
          "individual_licenses"
        ]
      },
      {
        "name": "airbnb",
        "url": "https://www.airbnb.com",
        "type": "short_term_rental_platform",
        "data_types": [
          "str_listings"
        ]
      },
      {
        "name": "vrbo",
        "url": "https://www.vrbo.com",
        "type": "short_term_rental_platform",
        "data_types": [
          "str_listings"
        ]
      },
      {
        "name": "evidence_documents",
        "type": "pdf/excel_files",
        "data_types": [
          "legal_documents",
          "correspondence",
          "lease_agreements"
        ]
      }
    ]
  },
  "data_processing": {
    "processing_date": "2025_12_07",
    "processing_scripts": [
      {
        "script": "bin/clean_data.py",
        "purpose": "data_cleaning_and_normalization",
        "input": "data/source/,_data/raw/",
        "output": "data/cleaned/",
        "dependencies": [
          "pandas",
          "transformers",
          "re"
        ]
      },
      {
        "script": "bin/analyze_connections.py",
        "purpose": "connection_analysis",
        "input": "data/cleaned/",
        "output": "research/connections/",
        "dependencies": [
          "scripts/core/unified_analysis.py"
        ]
      },
      {
        "script": "bin/validate_data.py",
        "purpose": "data_validation",
        "input": "data/cleaned/",
        "output": "research/verification/",
        "dependencies": [
          "scripts/utils/validate_schema.py"
        ]
      },
      {
        "script": "scripts/etl/etl_pipeline.py",
        "purpose": "etl_and_vectorization",
        "input": "data/cleaned/,_research/",
        "output": "data/vectors/",
        "dependencies": [
          "transformers",
          "faiss"
        ]
      },
      {
        "script": "scripts/core/unified_analysis.py",
        "purpose": "unified_analysis",
        "input": "data/cleaned/,_research/connections/",
        "output": "research/violations/,_research/anomalies/",
        "dependencies": [
          "scripts/core/unified_investigation.py"
        ]
      },
      {
        "script": "bin/organize_evidence.py",
        "purpose": "evidence_extraction",
        "input": "evidence/",
        "output": "research/evidence/",
        "dependencies": [
          "pdf_parsing",
          "pandas",
          "transformers"
        ]
      }
    ]
  },
  "data_statistics": {
    "firms": {
      "total_count": 38,
      "source_file": "data/source/skidmore_all_firms_complete.json",
      "cleaned_file": "data/cleaned/firms.json",
      "states": [
        "va"
      ],
      "date_range": {
        "earliest_license": "2014_10_31",
        "latest_license": "2025_12_07"
      }
    },
    "individual_licenses": {
      "total_count": 40,
      "source_file": "data/source/skidmore_individual_licenses.json",
      "cleaned_file": "data/cleaned/individual_licenses.json",
      "states": [
        "va",
        "tx",
        "nc",
        "md",
        "dc",
        "fl",
        "ga",
        "sc",
        "tn",
        "wv",
        "ky"
      ],
      "date_range": {
        "earliest_license": "2014_10_31",
        "latest_license": "2025_12_07"
      }
    },
    "connections": {
      "total_count": 100,
      "source_file": "research/connections/caitlin_skidmore_connections.json",
      "connection_types": [
        "principal_broker",
        "same_address",
        "same_address_as_known_firm",
        "known_firm_match",
        "professional_association",
        "corporate_relationship"
      ]
    },
    "research_outputs": {
      "total_count": 350,
      "categories": {
        "connections": 50,
        "violations": 30,
        "anomalies": 40,
        "evidence": 20,
        "verification": 25,
        "timelines": 15,
        "summaries": 30,
        "search_results": 80,
        "analysis": 40,
        "va_dpor_complaint": 20
      },
      "directory": "research/"
    },
    "evidence": {
      "total_count": 10,
      "types": {
        "PDF": 6,
        "Excel": 2,
        "Email": 1,
        "Legal Document": 1
      },
      "directory": "evidence/"
    },
    "vectors": {
      "total_files": 5,
      "directory": "data/vectors/",
      "embedding_model": "sentence_transformers/all_minilm_l6_v2"
    }
  },
  "data_quality": {
    "validation_status": "complete",
    "validation_date": "2025_12_07",
    "validation_script": "bin/validate_data.py",
    "quality_metrics": {
      "license_number_completeness": 1.0,
      "address_completeness": 0.95,
      "date_completeness": 0.9,
      "fk_integrity": 0.98,
      "duplicate_rate": 0.02
    },
    "known_issues": [
      {
        "issue": "some_addresses_missing_state_codes",
        "severity": "low",
        "affected_records": 5
      },
      {
        "issue": "some_expiration_dates_missing",
        "severity": "low",
        "affected_records": 8
      }
    ]
  },
  "schema_version": {
    "version": "1.0.0",
    "schema_file": "data/schema.json",
    "last_updated": "2025_12_07",
    "tables": [
      "firms",
      "individual_licenses",
      "connections",
      "research_outputs",
      "violations",
      "evidence"
    ]
  },
  "version_control": {
    "git_repository": "https://github.com/1digitaldesign/kettler_data_analysis.git",
    "current_branch": "main",
    "last_commit": "2025_12_07",
    "data_files_tracked": true,
    "research_files_tracked": true,
    "evidence_files_tracked": false
  },
  "metadata_structure": {
    "description": "metadata_fields_that_should_be_added_to_individual_json_files",
    "fields": {
      "_metadata": {
        "creation_date": "iso_8601_date_(yyyy_mm_dd)",
        "source": "source_of_the_data",
        "version": "version_number",
        "processing_script": "script_that_generated_this_file",
        "description": "brief_description_of_the_file_contents"
      },
      "_lineage": {
        "parent_files": "array_of_parent_file_paths",
        "transformation_steps": "array_of_transformation_step_descriptions",
        "dependencies": "array_of_dependency_file_paths"
      },
      "_validation": {
        "validated": "boolean_indicating_if_file_has_been_validated",
        "validation_date": "iso_8601_date",
        "validation_script": "script_used_for_validation",
        "issues": "array_of_validation_issues_found"
      }
    },
    "example": {
      "_metadata": {
        "creation_date": "2025_12_07",
        "source": "virginia_dpor",
        "version": "1.0.0",
        "processing_script": "bin/clean_data.py",
        "description": "cleaned_firm_license_data"
      },
      "_lineage": {
        "parent_files": [
          "data/source/skidmore_all_firms_complete.json"
        ],
        "transformation_steps": [
          "normalized_firm_names",
          "standardized_addresses",
          "parsed_dates"
        ],
        "dependencies": [
          "bin/clean_data.py"
        ]
      },
      "_validation": {
        "validated": true,
        "validation_date": "2025_12_07",
        "validation_script": "bin/validate_data.py",
        "issues": []
      }
    }
  },
  "related_documentation": {
    "schema": "data/schema.json",
    "data_catalog": "data/data_catalog.md",
    "governance": "data/governance.md",
    "data_dictionary": "data/data_dictionary.md",
    "ontology": "data/ontology.md",
    "ancestry": "data/ancestry.md",
    "repository_structure": "docs/repository_structure.md",
    "data_flow": "docs/system_architecture.md"
  }
}